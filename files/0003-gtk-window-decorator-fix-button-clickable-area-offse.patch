From c272018a97ad3f5dee8e627463d787c19f7f16a3 Mon Sep 17 00:00:00 2001
From: lukefromdc <lukefromdc@hushmail.com>
Date: Tue, 11 Jun 2019 02:38:52 -0400
Subject: [PATCH 3/6] gtk-window-decorator: fix button clickable area offset

---
 gtk-window-decorator/gtk-window-decorator.c | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/gtk-window-decorator/gtk-window-decorator.c b/gtk-window-decorator/gtk-window-decorator.c
index 1b8979cf..a45de9ee 100644
--- a/gtk-window-decorator/gtk-window-decorator.c
+++ b/gtk-window-decorator/gtk-window-decorator.c
@@ -3374,7 +3374,13 @@ meta_get_button_position (decor_t *d,
     *y = space->clickable.y;
     *w = space->clickable.width;
     *h = space->clickable.height;
-
+#ifdef HAVE_MARCO_1_23_1
+    /*compensate for offset caused by invisible borders
+     *taken straight from compiz 0.9
+     */
+    *x = *x - fgeom.borders.invisible.left;
+    *y = *y - fgeom.borders.invisible.top;
+#endif
     return TRUE;
 }
 
-- 
2.21.0

